JSON æ–‡ä»¶å¯è§†åŒ–å·¥å…·è®¾è®¡æ–‡æ¡£
1. ç®€ä»‹
æœ¬è®¾è®¡æ–‡æ¡£æè¿°äº†ä¸€ä¸ªç”¨äºå¯è§†åŒ– JSON æ–‡ä»¶çš„ Python å·¥å…·ã€‚è¯¥å·¥å…·æä¾›äº†ä¸‰ç§ä¸åŒçš„å¯è§†åŒ–é£æ ¼ï¼ˆæ ‘çŠ¶ã€çŸ©å½¢ã€åŒºå—ï¼‰ï¼Œå¹¶æ”¯æŒä¸¤ç§å›¾æ ‡é£æ ¼ï¼ˆæ‰‘å…‹ç¬¦å·å’Œè¡¨æƒ…ç¬¦å·ï¼‰ã€‚é€šè¿‡ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼ï¼Œç¡®ä¿ä»£ç çš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

2. ç³»ç»Ÿæ¶æ„
è¯¥å·¥å…·é‡‡ç”¨äº†å·¥å‚æ–¹æ³•ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

æŠ½è±¡äº§å“ç±» Visualizer
å…·ä½“äº§å“ç±» TreeVisualizerã€RectVisualizerã€BlockVisualizer
æŠ½è±¡å·¥å‚ç±» VisualizerFactory
å…·ä½“å·¥å‚ç±» TreeVisualizerFactoryã€RectVisualizerFactoryã€BlockVisualizerFactory
å®¢æˆ·ç«¯ä»£ç 
3. è¯¦ç»†è®¾è®¡
3.1 æŠ½è±¡äº§å“ç±» Visualizer
è¯¥ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³• visualizeï¼Œç”¨äºå…·ä½“äº§å“ç±»å®ç°å…·ä½“çš„å¯è§†åŒ–é€»è¾‘ã€‚

from abc import ABC, abstractmethod

class Visualizer(ABC):
    @abstractmethod
    def visualize(self, data: dict) -> str:
        pass
3.2 å…·ä½“äº§å“ç±»
å…·ä½“äº§å“ç±»ç»§æ‰¿è‡ª Visualizerï¼Œå®ç°äº†ä¸åŒçš„å¯è§†åŒ–é£æ ¼ã€‚

3.2.1 TreeVisualizer
è¯¥ç±»ä»¥æ ‘çŠ¶ç»“æ„å±•ç¤º JSON æ•°æ®ã€‚

class TreeVisualizer(Visualizer):
    def __init__(self, icon_family):
        self.icon_family = icon_family

    def visualize(self, data: dict, indent: str = '', last: bool = True) -> str:
        # å…·ä½“å®ç°çœç•¥
3.2.2 RectVisualizer
è¯¥ç±»ä»¥çŸ©å½¢æ¡†å±•ç¤º JSON æ•°æ®ã€‚

class RectVisualizer(Visualizer):
    def __init__(self, icon_family):
        self.icon_family = icon_family

    def visualize(self, data: dict, level: int = 0) -> str:
        # å…·ä½“å®ç°çœç•¥
3.2.3 BlockVisualizer
è¯¥ç±»ä»¥åŒºå—å½¢å¼å±•ç¤º JSON æ•°æ®ã€‚

class BlockVisualizer(Visualizer):
    def __init__(self, icon_family):
        self.icon_family = icon_family

    def visualize(self, data: dict) -> str:
        # å…·ä½“å®ç°çœç•¥
3.3 æŠ½è±¡å·¥å‚ç±» VisualizerFactory
è¯¥ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³• create_visualizerï¼Œç”¨äºå…·ä½“å·¥å‚ç±»å®ç°å…·ä½“çš„å¯è§†åŒ–å™¨åˆ›å»ºé€»è¾‘ã€‚

from abc import ABC, abstractmethod

class VisualizerFactory(ABC):
    @abstractmethod
    def create_visualizer(self) -> Visualizer:
        pass
3.4 å…·ä½“å·¥å‚ç±»
å…·ä½“å·¥å‚ç±»ç»§æ‰¿è‡ª VisualizerFactoryï¼Œå®ç°äº†å…·ä½“çš„å¯è§†åŒ–å™¨åˆ›å»ºé€»è¾‘ã€‚

3.4.1 TreeVisualizerFactory
class TreeVisualizerFactory(VisualizerFactory):
    def __init__(self, icon_family):
        self.icon_family = icon_family

    def create_visualizer(self) -> Visualizer:
        return TreeVisualizer(self.icon_family)
3.4.2 RectVisualizerFactory
class RectVisualizerFactory(VisualizerFactory):
    def __init__(self, icon_family):
        self.icon_family = icon_family

    def create_visualizer(self) -> Visualizer:
        return RectVisualizer(self.icon_family)
3.4.3 BlockVisualizerFactory
class BlockVisualizerFactory(VisualizerFactory):
    def __init__(self, icon_family):
        self.icon_family = icon_family

    def create_visualizer(self) -> Visualizer:
        return BlockVisualizer(self.icon_family)
4. å®¢æˆ·ç«¯ä»£ç 
å®¢æˆ·ç«¯ä»£ç è´Ÿè´£è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œè¯»å– JSON æ–‡ä»¶ï¼Œé€‰æ‹©åˆé€‚çš„å¯è§†åŒ–å™¨ï¼Œå¹¶è¾“å‡ºå¯è§†åŒ–ç»“æœã€‚

import argparse
import json

def main():
    parser = argparse.ArgumentParser(description="JSON File Visualizer")
    parser.add_argument('-f', '--file', required=True, help='Path to the JSON file')
    parser.add_argument('-s', '--style', required=True, choices=['tree', 'rect', 'block'], help='Visualization style')
    parser.add_argument('-i', '--icon', required=True, choices=['poker', 'emoji'], help='Icon family')

    args = parser.parse_args()

    with open(args.file, 'r') as f:
        data = json.load(f)

    poker_icon_family = {
        'node': 'â™¢',
        'leaf': 'â™¤'
    }

    emoji_icon_family = {
        'node': 'ğŸ“',
        'leaf': 'ğŸ“„'
    }

    icon_families = {
        'poker': poker_icon_family,
        'emoji': emoji_icon_family
    }

    factory_classes = {
        'tree': TreeVisualizerFactory,
        'rect': RectVisualizerFactory,
        'block': BlockVisualizerFactory
    }

    icon_family = icon_families[args.icon]
    factory_class = factory_classes[args.style]

    factory = factory_class(icon_family)
    visualizer = factory.create_visualizer()

    output = visualizer.visualize(data)
    print(output)

if __name__ == '__main__':
    main()
5. æ€»ç»“
æœ¬å·¥å…·é€šè¿‡ä½¿ç”¨æŠ½è±¡å·¥å‚æ¨¡å¼å’Œç­–ç•¥æ¨¡å¼ï¼Œå®ç°äº†å¯¹ JSON æ–‡ä»¶çš„çµæ´»å¯è§†åŒ–ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°é€‰æ‹©ä¸åŒçš„å¯è§†åŒ–é£æ ¼å’Œå›¾æ ‡é£æ ¼ï¼Œä»è€Œæ»¡è¶³ä¸åŒçš„å±•ç¤ºéœ€æ±‚ã€‚æœªæ¥å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•æ–°çš„å¯è§†åŒ–é£æ ¼å’Œå›¾æ ‡é£æ ¼ï¼Œæé«˜å·¥å…·çš„é€šç”¨æ€§å’Œå®ç”¨æ€§ã€‚